<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-do List</title>
    <link rel="stylesheet" href="src/style/style.css">
</head>
<body onload="guardarRotina()">
    <nav class="TopBar">
        <p><strong>Seja Bem Vindo</strong> <span style="font-weight: bold;" id="nome"></span></p>
        <button type="button" id="Login-suap" onclick="login()">Login Suap</button>
    </nav>
    <section class="Main">
        <header>
            <h1>To - do List</h1>
            <p>Crie e Organize a sua Rotina do Jeito Certo.</p>
        </header>
        <div id="inline"></div>
        <section class="container-row">
        <div>
            <input type="checkbox" onclick="verificarRotina()" name="CheckBox1" class="todo-check">
            <input type="text" class="todo-text" oninput="rotinaText()" placeholder="Digite uma Atividade" value="Estudar">
        </div>
    </section>
    <section class="container-colum">
        <div>
            <input type="checkbox" name="CheckBox2" onclick="verificarRotina()" class="todo-check">
            <input type="text" class="todo-text" oninput="rotinaText()" placeholder="Digite uma Atividade" value="Jogar Basquete">
        </div>
    </section>
    <div id="Alert"></div>
    </section>
    <footer>
        <div class="footer-container">
          <p>&copy; 2025 - Todos os direitos reservados</p>
        </div>
      </footer>      
    <script src="src/script/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="src/app/js.cookie.js"></script>
	<script src="src/app/settings.js"></script>
  	<script src="src/app/client.js"></script>
    <script>
      var suap = new SuapClient(SUAP_URL, CLIENT_ID, REDIRECT_URI, SCOPE);
      suap.init();
      $(document).ready(function () {
      		//$("#suap-login-button").attr('href', suap.getLoginURL());
          if (suap.isAuthenticated()) {
              var scope = suap.getToken().getScope();
              var callback = function (response) {
                  //$("#ident").text(JSON.stringify(response, null, 4)); //aqui vai mostrar todos os dados possíveis.
                  $("#nome").text(response.nome);
                  $("#campus").text(response.campus);
                  //aqui você vai adicionando os outros campos possíveis.
              };
             suap.getResource(scope, callback);
          }
      });
      $("#suap-logout-button").click(function(){
          suap.logout();
          window.location.href = "index.html";
      });  
      function login() {
        var loginButton = document.getElementById("Login-suap");
        loginButton.innerHTML = 'Carregando...'
        setTimeout(() => {
            window.location.href = suap.getLoginURL();
        }, 3000);
        if(loginButton.click = true) {
            setTimeout(() => {
                loginButton.innerHTML = 'Autenticado com Sucesso';
            }, 3000);
        }
      }
    </script>
</body>
</html>